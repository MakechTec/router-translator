"use strict";exports.__esModule=true;exports.Route=exports.RouteTranslator=void 0;var RouteTranslator=function(){function RouteTranslator(){this.placeholderRegExp=/\{([a-z|A-Z|\d]*)\}/g;this.cleanKey=function(part){return part.replace("{","").replace("}","")}}RouteTranslator.prototype.extractInfo=function(route,uri){var m=this.extractVariables(route,uri);return new Route(route,uri,m)};RouteTranslator.prototype.buildUri=function(route,variables){var uri=route;variables.forEach((function(variable){var keyReg=new RegExp("{"+variable.key+"}","g");uri=uri.replace(keyReg,variable.value)}));return uri};RouteTranslator.prototype.extractVariables=function(route,uri){var routeKeys=this.extractKeys(route);var routeValues=this.extractValues(route,uri);if(routeKeys.length!==routeValues.length){throw new Error("Placeholder count mismatch")}return routeKeys.map((function(key,index){return{key:key,value:routeValues[index]}}))};RouteTranslator.prototype.extractKeys=function(route){var _this=this;var routeParts=route.split("/");return routeParts.filter((function(part){return _this.placeholderRegExp.test(part)})).map((function(part){return _this.cleanPart(part)}))};RouteTranslator.prototype.extractValues=function(route,uri){var routeParts=route.split("/");var uriParts=uri.split("/");var placeholderIndexes=[];for(var i=0;i<routeParts.length;i++){if(this.placeholderRegExp.test(routeParts[i])){placeholderIndexes.push(i)}}return placeholderIndexes.map((function(ind){return uriParts[ind]}))};RouteTranslator.prototype.cleanPart=function(part){return this.cleanKey(part)};RouteTranslator.prototype.setPlaceholderRexexp=function(regexp){this.placeholderRegExp=regexp};RouteTranslator.prototype.getPlaceholderRegExp=function(){return this.placeholderRegExp};RouteTranslator.prototype.setCleanKey=function(cleanKey){this.cleanKey=cleanKey};RouteTranslator.prototype.getCleanKey=function(){return this.cleanKey};return RouteTranslator}();exports.RouteTranslator=RouteTranslator;var Route=function(){function Route(route,uri,placeholders){if(route===void 0){route=""}if(uri===void 0){uri=""}if(placeholders===void 0){placeholders=[]}this.route=route;this.uri=uri;this.placeholders=placeholders}return Route}();exports.Route=Route;